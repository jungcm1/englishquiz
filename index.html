<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ˆë“±ì˜ì–´ í˜•ì„±í‰ê°€ 1íšŒ (ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜)</title>
    <style>
        body {
            font-family: 'Inter', 'Nanum Gothic', sans-serif; /* ë‚˜ëˆ”ê³ ë”• ì¶”ê°€ */
            line-height: 1.6;
            margin: 0;
            background-color: #e0f7fa; /* ë°ì€ í•˜ëŠ˜ìƒ‰ ë°°ê²½ */
            color: #333;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
            position: relative;
            overflow-x: hidden; /* ê°€ë¡œ ìŠ¤í¬ë¡¤ ë°©ì§€ */
        }

        .logo {
            position: absolute;
            top: 20px;
            right: 20px; /* ì˜¤ë¥¸ìª½ ìƒë‹¨ìœ¼ë¡œ ë³€ê²½ */
            width: 120px; /* ë¡œê³  í¬ê¸° ì¡°ì • */
            height: auto;
            z-index: 1000;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* í™”ë©´ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .screen {
            background-color: #ffffff;
            padding: 30px 40px;
            border-radius: 20px; /* ë” ë‘¥ê¸€ê²Œ */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            max-width: 700px;
            width: 95%;
            text-align: center;
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }
        .screen.hidden {
            opacity: 0;
            transform: scale(0.95) translateY(20px);
            pointer-events: none;
            position: absolute;
            display: none !important; /* í™•ì‹¤íˆ ìˆ¨ê¹€ */
        }

        /* ì‹œì‘ í™”ë©´ ìŠ¤íƒ€ì¼ */
        #startScreen {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #startScreen h2 {
            font-size: 2.5em;
            font-weight: bold;
            color: #00796b; /* ì²­ë¡ìƒ‰ ê³„ì—´ */
            margin-bottom: 20px;
            animation: fadeInDown 1s ease-out;
        }
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .input-group {
            margin-bottom: 20px;
            width: 100%;
            max-width: 350px;
        }
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #004d40; /* ì§„í•œ ì²­ë¡ìƒ‰ */
            text-align: left;
        }
        .input-group input {
            width: calc(100% - 24px);
            padding: 12px;
            border: 2px solid #b2dfdb; /* ì—°í•œ ì²­ë¡ìƒ‰ í…Œë‘ë¦¬ */
            border-radius: 10px;
            font-size: 1em;
            transition: border-color 0.3s;
        }
        .input-group input:focus {
            border-color: #00796b;
            outline: none;
        }
        #startButton {
            padding: 15px 40px;
            font-size: 1.3em;
            background-image: linear-gradient(to right, #26a69a, #00796b); /* ê·¸ë¼ë°ì´ì…˜ ë²„íŠ¼ */
            color: white;
            border: none;
            border-radius: 30px; /* íƒ€ì›í˜• ë²„íŠ¼ */
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 121, 107, 0.3);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            margin-top: 20px;
        }
        #startButton:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 121, 107, 0.4);
        }
        #startButton:active {
            transform: translateY(0);
            box-shadow: 0 5px 15px rgba(0, 121, 107, 0.3);
        }

        /* í€´ì¦ˆ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
        #quizContainer {
            display: none; /* ì´ˆê¸° ìˆ¨ê¹€ */
        }
        #quizContainer h1 {
            color: #00796b;
            margin-bottom: 30px;
            font-size: 2em;
            font-weight: bold;
        }
        .question {
            margin-bottom: 30px;
            padding-bottom: 25px;
            border-bottom: 2px dashed #b2dfdb; /* ì—°í•œ ì²­ë¡ìƒ‰ ì ì„  */
            text-align: left;
        }
        .question:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .question p.q-title { /* ë¬¸ì œ ì œëª© ìŠ¤íƒ€ì¼ */
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.2em;
            color: #004d40;
        }
        .question .options p { /* ì§€ë¬¸ ìŠ¤íƒ€ì¼ */
            background-color: #e0f2f1; /* ë§¤ìš° ì—°í•œ ì²­ë¡ìƒ‰ */
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            font-size: 1em;
            line-height: 1.7;
        }
        .options label {
            display: block;
            margin-bottom: 12px;
            cursor: pointer;
            padding: 10px 15px;
            border-radius: 8px;
            background-color: #f0f0f0;
            transition: background-color 0.2s ease, transform 0.1s ease;
            border: 1px solid #ddd;
        }
        .options label:hover {
            background-color: #e0e0e0;
            transform: translateX(5px);
        }
        .options input[type="radio"] {
            margin-right: 12px;
            transform: scale(1.3);
            vertical-align: middle;
        }
        .submit-btn {
            display: block;
            width: 220px;
            padding: 15px 25px;
            background-image: linear-gradient(to right, #ff7043, #f4511e); /* ì£¼í™©ìƒ‰ ê·¸ë¼ë°ì´ì…˜ */
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.2em;
            margin: 40px auto 0;
            text-align: center;
            box-shadow: 0 5px 15px rgba(244, 81, 30, 0.3);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(244, 81, 30, 0.4);
        }

        /* ê²°ê³¼ í™”ë©´ ìŠ¤íƒ€ì¼ */
        #resultScreen {
            display: none; /* ì´ˆê¸° ìˆ¨ê¹€ */
        }
        #resultScreen h2 {
            color: #00796b;
            margin-bottom: 15px;
            font-size: 2.2em;
        }
        #resultScreen #greetingMessage {
            font-size: 1.3em;
            margin-bottom: 20px;
            color: #004d40;
        }
        #resultScreen #finalScore {
            font-size: 3.5em;
            font-weight: bold;
            color: #f4511e; /* ì£¼í™©ìƒ‰ ê°•ì¡° */
            margin-bottom: 10px;
            animation: scoreAppear 1s ease-out;
        }
        @keyframes scoreAppear {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }
        #resultScreen #scoreComment {
            font-size: 1.1em;
            color: #555;
            margin-bottom: 30px;
        }
        #detailedFeedback {
            margin-top: 20px;
            text-align: left;
        }
        #detailedFeedback h3 {
            color: #00796b;
            margin-bottom: 15px;
            border-bottom: 2px solid #b2dfdb;
            padding-bottom: 5px;
        }
        .feedback-item {
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid;
        }
        .feedback-item.correct {
            background-color: #e8f5e9; /* ì—°í•œ ì´ˆë¡ */
            border-color: #a5d6a7;
            color: #2e7d32;
        }
        .feedback-item.incorrect {
            background-color: #ffebee; /* ì—°í•œ ë¹¨ê°• */
            border-color: #ef9a9a;
            color: #c62828;
        }
        .feedback-item p {
            margin: 5px 0;
        }
        .feedback-item .user-answer {
            font-style: italic;
        }
        .feedback-item .correct-answer-text {
            font-weight: bold;
        }
        .feedback-item .analysis {
            margin-top: 8px;
            font-size: 0.9em;
            background-color: rgba(255,255,255,0.5);
            padding: 8px;
            border-radius: 5px;
        }
        #shareButton {
            padding: 15px 40px;
            font-size: 1.2em;
            background-image: linear-gradient(to right, #42a5f5, #1e88e5); /* íŒŒë€ìƒ‰ ê·¸ë¼ë°ì´ì…˜ */
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(30, 136, 229, 0.3);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            margin-top: 30px;
        }
        #shareButton:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(30, 136, 229, 0.4);
        }
        #shareStatusMessage { /* ê³µìœ  ìƒíƒœ ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ */
            font-size: 0.9em;
            color: #555;
            margin-top: 15px;
            min-height: 1.2em; /* ë©”ì‹œì§€ í‘œì‹œ ê³µê°„ í™•ë³´ */
        }


        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 600px) {
            body { padding: 10px; }
            .screen { padding: 20px; }
            .logo { width: 80px; top: 10px; right: 10px; }
            #startScreen h2 { font-size: 2em; }
            .input-group input { padding: 10px; }
            #startButton { font-size: 1.1em; padding: 12px 30px; }
            #quizContainer h1 { font-size: 1.6em; }
            .question p.q-title { font-size: 1.1em; }
            .options label { padding: 8px 12px; }
            .submit-btn { width: 100%; font-size: 1.1em; padding: 12px 20px; }
            #resultScreen h2 { font-size: 1.8em; }
            #resultScreen #finalScore { font-size: 2.8em; }
            #shareButton { font-size: 1.1em; padding: 12px 30px; }
        }
    </style>
</head>
<body>
    <img src="Logo2.png" alt="ëˆˆë†’ì´ ëŸ¬ë‹ì„¼í„° ë¡œê³ " class="logo" onerror="this.onerror=null;this.src='https://placehold.co/120xauto/cccccc/333333?text=Logo';">

    <div id="startScreen" class="screen">
        <h2>âœ¨ ì´ˆë“±ì˜ì–´ ë…í•´ë ¥ ì‘¥ì‘¥! âœ¨</h2>
        <div class="input-group">
            <label for="studentName">ì´ë¦„</label>
            <input type="text" id="studentName" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        <div class="input-group">
            <label for="studentGrade">í•™ë…„</label>
            <input type="text" id="studentGrade" placeholder="í•™ë…„ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ì´ˆ3)">
        </div>
        <button id="startButton">í€´ì¦ˆ ì‹œì‘! ğŸš€</button>
    </div>

    <div id="quizContainer" class="screen hidden">
        <h1>ì´ˆë“±ì˜ì–´ í˜•ì„±í‰ê°€ 1íšŒ (Unit 01~06)</h1>
        <form id="quizForm">
            <div class="question">
                <p class="q-title">1. ë‹¤ìŒ ì¤‘ ë‹¨ì–´ì™€ ìš°ë¦¬ë§ ëœ»ì˜ ì—°ê²°ì´ ì ì ˆí•˜ì§€ ì•Šì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.</p>
                <div class="options">
                    <label><input type="radio" name="q1" value="a"> â‘  thin â€“ ê°€ëŠë‹¤ë€</label>
                    <label><input type="radio" name="q1" value="b"> â‘¡ become â€“ ~(í•´)ì§€ë‹¤</label>
                    <label><input type="radio" name="q1" value="c"> â‘¢ practice â€“ ì ìˆ˜ë¥¼ ì–»ë‹¤, ë“ì í•˜ë‹¤</label>
                    <label><input type="radio" name="q1" value="d"> â‘£ camel â€“ ë‚™íƒ€</label>
                </div>
            </div>

            <div class="question">
                <p class="q-title">2. ë‹¤ìŒ ì¤‘ ë‹¨ì–´ì™€ ìš°ë¦¬ë§ ëœ»ì˜ ì—°ê²°ì´ ì ì ˆí•˜ì§€ ì•Šì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.</p>
                <div class="options">
                    <label><input type="radio" name="q2" value="a"> â‘  crow â€“ ê¹Œë§ˆê·€</label>
                    <label><input type="radio" name="q2" value="b"> â‘¡ empty â€“ ê°ê°ì˜</label>
                    <label><input type="radio" name="q2" value="c"> â‘¢ astronaut â€“ ìš°ì£¼ ë¹„í–‰ì‚¬</label>
                    <label><input type="radio" name="q2" value="d"> â‘£ grab â€“ ì¡ë‹¤</label>
                </div>
            </div>

            <div class="question">
                <p class="q-title">3. ë‹¤ìŒ ë‹¨ì–´ì˜ ì•Œë§ì€ ìš°ë¦¬ë§ ëœ»ì„ ê³ ë¥´ì„¸ìš”: <strong>stay</strong></p>
                <div class="options">
                    <label><input type="radio" name="q3" value="a"> â‘  ë¯¿ë‹¤</label>
                    <label><input type="radio" name="q3" value="b"> â‘¡ ì´›ë¶ˆ</label>
                    <label><input type="radio" name="q3" value="c"> â‘¢ ë¨¸ë¬´ë¥´ë‹¤</label>
                    <label><input type="radio" name="q3" value="d"> â‘£ ê±±ì •í•˜ëŠ”</label>
                </div>
            </div>

            <div class="question">
                <p class="q-title">4. ë‹¤ìŒ ë‹¨ì–´ì˜ ì•Œë§ì€ ìš°ë¦¬ë§ ëœ»ì„ ê³ ë¥´ì„¸ìš”: <strong>drop</strong></p>
                <div class="options">
                    <label><input type="radio" name="q4" value="a"> â‘  ë…¸ë¥¼ ì “ë‹¤</label>
                    <label><input type="radio" name="q4" value="b"> â‘¡ ë§ì€</label>
                    <label><input type="radio" name="q4" value="c"> â‘¢ ê°€ë¡œì§ˆëŸ¬</label>
                    <label><input type="radio" name="q4" value="d"> â‘£ ë–¨ì–´ëœ¨ë¦¬ë‹¤</label>
                </div>
            </div>

            <div class="question">
                <p class="q-title">5. ë‹¤ìŒ ì¤‘ â€˜Iâ€™ì— ê´€í•œ ê¸€ì˜ ë‚´ìš©ê³¼ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ê³ ë¥´ì„¸ìš”.</p>
                <div class="options">
                    <p>
                        I have many shapes and colors. You can find me everywhere. <br>
                        With me, any place becomes fun. But I love parties and parks the most!<br>
                        I am very light. Fill me with air. Then I will float.<br>
                        But be careful with sharp things. I can pop with a loud noise! What am I?
                    </p>
                    <label><input type="radio" name="q5" value="a"> â‘  ëª¨ì–‘ê³¼ ìƒ‰ì´ ë‹¤ì–‘í•˜ë‹¤.</label>
                    <label><input type="radio" name="q5" value="b"> â‘¡ íŒŒí‹°ì™€ ê³µì›ì„ ì¢‹ì•„í•œë‹¤.</label>
                    <label><input type="radio" name="q5" value="c"> â‘¢ ë¬´ê±°ì›Œì„œ ë– ì˜¤ë¥¼ ìˆ˜ ì—†ë‹¤.</label>
                    <label><input type="radio" name="q5" value="d"> â‘£ í° ì†Œë¦¬ë¡œ í„°ì§ˆ ìˆ˜ ìˆë‹¤.</label>
                </div>
            </div>

            <div class="question">
                <p class="q-title">6. ë‹¤ìŒ ì¤‘ ê¸€ì˜ ë‚´ìš©ê³¼ ì¼ì¹˜í•˜ëŠ” ê²ƒì„ ê³ ë¥´ì„¸ìš”.</p>
                <div class="options">
                    <p>
                        One day, Mia could not find her kitten. She was worried. <br>
                        She went outside. She knocked on doors.<br>
                        She showed photos of her kitten. She asked, â€œDid you see this kitten?â€<br>
                        She looked everywhere. Hours later, Mia returned home.<br>
                        She felt sad. She went to bed without dinner.<br>
                        But when she got under the blanket, she heard a soft purr. Her kitten was under her blanket the whole time!
                    </p>
                    <label><input type="radio" name="q6" value="a"> â‘  ë¯¸ì•„ëŠ” ê°•ì•„ì§€ë¥¼ ìƒì–´ë²„ë ¸ë‹¤.</label>
                    <label><input type="radio" name="q6" value="b"> â‘¡ ë¯¸ì•„ëŠ” ì´ì›ƒì—ê²Œ ì „í™”ë¥¼ ê±¸ì—ˆë‹¤.</label>
                    <label><input type="radio" name="q6" value="c"> â‘¢ ë¯¸ì•„ëŠ” ì €ë…ì„ ë¨¹ê³  ì ì´ ë“¤ì—ˆë‹¤.</label>
                    <label><input type="radio" name="q6" value="d"> â‘£ ìƒˆë¼ ê³ ì–‘ì´ëŠ” ë‹´ìš” ë°‘ì— ìˆì—ˆë‹¤.</label>
                </div>
            </div>

            <button type="submit" class="submit-btn">ê²°ê³¼ í™•ì¸! ğŸ’¯</button>
        </form>
    </div>

    <div id="resultScreen" class="screen hidden">
        <h2>ğŸ‰ ì±„ì  ê²°ê³¼ ğŸ‰</h2>
        <p id="greetingMessage"></p>
        <p>ì´ ì ìˆ˜: <span id="finalScore">0</span> / 100 ì </p>
        <p id="scoreComment"></p>
        <div id="detailedFeedback">
            <h3>ìì„¸í•œ í”¼ë“œë°±</h3>
            <ul id="answerFeedbackList" style="list-style: none; padding: 0;"></ul>
        </div>
        <button id="shareButton">ê²°ê³¼ ê³µìœ í•˜ê¸° ğŸ’Œ</button>
        <p id="shareStatusMessage"></p> </div>

    <script>
        const startScreen = document.getElementById('startScreen');
        const quizContainer = document.getElementById('quizContainer');
        const resultScreen = document.getElementById('resultScreen');

        const startButton = document.getElementById('startButton');
        const quizForm = document.getElementById('quizForm');
        const shareButton = document.getElementById('shareButton');
        const shareStatusMessage = document.getElementById('shareStatusMessage'); // ê³µìœ  ìƒíƒœ ë©”ì‹œì§€ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°

        const studentNameInput = document.getElementById('studentName');
        const studentGradeInput = document.getElementById('studentGrade');

        let studentName = '';
        let studentGrade = '';

        // ì •ë‹µ ë° í•´ì„¤ ë°ì´í„°
        const quizData = [
            { id: 'q1', answer: 'c', points: 15, correctAnswerText: 'â‘¢ practice â€“ ì—°ìŠµí•˜ë‹¤', analysis: { incorrect: "'practice'ëŠ” 'ì—°ìŠµí•˜ë‹¤' ë˜ëŠ” 'ì‹¤í–‰í•˜ë‹¤'ì˜ ëœ»ì…ë‹ˆë‹¤. 'ì ìˆ˜ë¥¼ ì–»ë‹¤'ëŠ” 'score'ì…ë‹ˆë‹¤." } },
            { id: 'q2', answer: 'b', points: 15, correctAnswerText: 'â‘¡ empty â€“ ë¹„ì–´ ìˆëŠ”', analysis: { incorrect: "'empty'ëŠ” 'ë¹„ì–´ ìˆëŠ”'ì´ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤. 'ê°ê°ì˜'ëŠ” 'each'ì…ë‹ˆë‹¤." } },
            { id: 'q3', answer: 'c', points: 15, correctAnswerText: 'â‘¢ ë¨¸ë¬´ë¥´ë‹¤', analysis: { incorrect: "'stay'ëŠ” 'ë¨¸ë¬´ë¥´ë‹¤'ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ë³´ê¸°ë“¤ì˜ ëœ»ë„ í™•ì¸í•´ë³´ì„¸ìš”." } },
            { id: 'q4', answer: 'd', points: 15, correctAnswerText: 'â‘£ ë–¨ì–´ëœ¨ë¦¬ë‹¤', analysis: { incorrect: "'drop'ì€ 'ë–¨ì–´ëœ¨ë¦¬ë‹¤'ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤. 'ë…¸ë¥¼ ì “ë‹¤'ëŠ” 'row'ì…ë‹ˆë‹¤." } },
            { id: 'q5', answer: 'c', points: 15, correctAnswerText: 'â‘¢ ë¬´ê±°ì›Œì„œ ë– ì˜¤ë¥¼ ìˆ˜ ì—†ë‹¤.', analysis: { incorrect: "ì§€ë¬¸ì—ì„œ 'I am very light. Fill me with air. Then I will float.' (ë‚˜ëŠ” ë§¤ìš° ê°€ë³ë‹¤. ê³µê¸°ë¥¼ ì±„ìš°ë©´ ë– ì˜¤ë¥¼ ê²ƒì´ë‹¤.)ë¼ê³  í–ˆìœ¼ë¯€ë¡œ, 'ë¬´ê±°ì›Œì„œ ë– ì˜¤ë¥¼ ìˆ˜ ì—†ë‹¤'ëŠ” ë‚´ìš©ê³¼ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." } },
            { id: 'q6', answer: 'd', points: 25, correctAnswerText: 'â‘£ ìƒˆë¼ ê³ ì–‘ì´ëŠ” ë‹´ìš” ë°‘ì— ìˆì—ˆë‹¤.', analysis: { incorrect: "ì§€ë¬¸ì˜ ë§ˆì§€ë§‰ ë¶€ë¶„ 'Her kitten was under her blanket the whole time!' (ê·¸ë…€ì˜ ìƒˆë¼ ê³ ì–‘ì´ëŠ” ë‚´ë‚´ ë‹´ìš” ë°‘ì— ìˆì—ˆë‹¤!)ì—ì„œ ì •ë‹µì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤." } }
        ];

        startButton.addEventListener('click', () => {
            studentName = studentNameInput.value.trim() || "ì¹œêµ¬"; // ì´ë¦„ ì…ë ¥ ì•ˆí•˜ë©´ 'ì¹œêµ¬'
            studentGrade = studentGradeInput.value.trim();

            if (!studentNameInput.value.trim()) {
                 // ê°„ë‹¨í•œ ì•Œë¦¼ ëŒ€ì‹ , ì…ë ¥ í•„ë“œì— í¬ì»¤ìŠ¤ë¥¼ ì£¼ê±°ë‚˜ ìŠ¤íƒ€ì¼ ë³€ê²½ìœ¼ë¡œ ìœ ë„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                 // ì—¬ê¸°ì„œëŠ” ì¼ë‹¨ ì§„í–‰í•©ë‹ˆë‹¤.
            }

            startScreen.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            quizContainer.style.display = 'block'; // display ì†ì„± ë³€ê²½
            // ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•´ ì•½ê°„ì˜ ì§€ì—° í›„ í´ë˜ìŠ¤ ì¶”ê°€
            setTimeout(() => quizContainer.style.opacity = 1, 50);
        });

        quizForm.addEventListener('submit', function(event) {
            event.preventDefault();

            let totalScore = 0;
            const answerFeedbackList = document.getElementById('answerFeedbackList');
            answerFeedbackList.innerHTML = ''; // ì´ì „ ê²°ê³¼ ì´ˆê¸°í™”
            shareStatusMessage.textContent = ''; // ì´ì „ ê³µìœ  ìƒíƒœ ë©”ì‹œì§€ ì´ˆê¸°í™”

            quizData.forEach((question, index) => {
                const userAnswerEl = document.querySelector(`input[name="${question.id}"]:checked`);
                const userAnswerValue = userAnswerEl ? userAnswerEl.value : null;
                const isCorrect = userAnswerValue === question.answer;
                let scoreForQuestion = 0;

                if (isCorrect) {
                    scoreForQuestion = question.points;
                    totalScore += question.points;
                }

                // í”¼ë“œë°± ì•„ì´í…œ ìƒì„±
                const feedbackItem = document.createElement('li');
                feedbackItem.classList.add('feedback-item');
                feedbackItem.classList.add(isCorrect ? 'correct' : 'incorrect');

                let userAnswerText = 'ì„ íƒ ì•ˆí•¨';
                if (userAnswerEl) {
                    // ë¼ë””ì˜¤ ë²„íŠ¼ì˜ ë ˆì´ë¸” í…ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸°
                    userAnswerText = userAnswerEl.parentElement.textContent.trim();
                }

                let feedbackHTML = `
                    <p><strong>${index + 1}ë²ˆ ë¬¸ì œ (${question.points}ì ): ${isCorrect ? 'ì •ë‹µ! ğŸ‘' : 'ì˜¤ë‹µ ğŸ˜Ÿ'}</strong></p>
                    <p class="user-answer">ë‚˜ì˜ ë‹µ: ${userAnswerText}</p>
                    <p>ì •ë‹µ: <span class="correct-answer-text">${question.correctAnswerText}</span></p>
                `;

                if (!isCorrect && question.analysis && question.analysis.incorrect) {
                    feedbackHTML += `<div class="analysis"><strong>í•´ì„¤:</strong> ${question.analysis.incorrect}</div>`;
                } else if (isCorrect && question.analysis && question.analysis.correct) {
                    // ì •ë‹µì¼ ê²½ìš°ì—ë„ í•´ì„¤ì´ ìˆë‹¤ë©´ í‘œì‹œ (í˜„ì¬ ë°ì´í„°ì—ëŠ” ì—†ìŒ)
                    feedbackHTML += `<div class="analysis"><strong>ì°¸ê³ :</strong> ${question.analysis.correct}</div>`;
                }


                feedbackItem.innerHTML = feedbackHTML;
                answerFeedbackList.appendChild(feedbackItem);
            });

            document.getElementById('finalScore').textContent = totalScore;
            document.getElementById('greetingMessage').textContent = `${studentName}ë‹˜ (${studentGrade || 'í•™ë…„ ì •ë³´ ì—†ìŒ'}), ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤!`;

            let scoreCommentText = "";
            if (totalScore >= 90) {
                scoreCommentText = "ì •ë§ í›Œë¥­í•´ìš”! ì˜ì–´ ì‹¤ë ¥ì´ ëŒ€ë‹¨í•œë°ìš”? ğŸŒŸ";
            } else if (totalScore >= 70) {
                scoreCommentText = "ì˜ í–ˆì–´ìš”! ì¡°ê¸ˆë§Œ ë” ë…¸ë ¥í•˜ë©´ ì™„ë²½í•  ê±°ì˜ˆìš”! ğŸ˜Š";
            } else if (totalScore >= 50) {
                scoreCommentText = "ê´œì°®ì•„ìš”! ë‹¤ìŒì—” ë” ì˜ í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”. í™”ì´íŒ…! ğŸ’ª";
            } else {
                scoreCommentText = "ì•„ì‰¬ì›Œìš”. í•˜ì§€ë§Œ í¬ê¸°í•˜ì§€ ë§ê³  ë‹¤ì‹œ ë„ì „í•´ë´ìš”! ğŸ“š";
            }
            document.getElementById('scoreComment').textContent = scoreCommentText;

            quizContainer.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            resultScreen.style.display = 'block'; // display ì†ì„± ë³€ê²½
             // ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•´ ì•½ê°„ì˜ ì§€ì—° í›„ í´ë˜ìŠ¤ ì¶”ê°€
            setTimeout(() => resultScreen.style.opacity = 1, 50);

            // ê²°ê³¼ í™”ë©´ìœ¼ë¡œ ìŠ¤í¬ë¡¤ (í•„ìš”ì‹œ)
            resultScreen.scrollIntoView({ behavior: 'smooth' });
        });

        shareButton.addEventListener('click', async () => {
            shareStatusMessage.textContent = ''; // ì´ì „ ë©”ì‹œì§€ ì´ˆê¸°í™”
            const score = document.getElementById('finalScore').textContent;
            const shareData = {
                title: `[${studentName}ë‹˜ì˜ ì´ˆë“±ì˜ì–´ í‰ê°€ ê²°ê³¼]`,
                text: `${studentName}ë‹˜ì´ ì´ˆë“±ì˜ì–´ í˜•ì„±í‰ê°€ì—ì„œ ${score}ì ì„ ë°›ì•˜ì–´ìš”! (${studentGrade || 'í•™ë…„ ì •ë³´ ì—†ìŒ'})\ní•¨ê»˜ í€´ì¦ˆë¥¼ í’€ì–´ë³´ê³  ì‹¤ë ¥ì„ í‚¤ì›Œë³´ì„¸ìš”! ğŸ‘‡`,
                url: window.location.href // í˜„ì¬ í˜ì´ì§€ URL
            };

            try {
                if (navigator.share) {
                    await navigator.share(shareData);
                    shareStatusMessage.textContent = 'ê²°ê³¼ê°€ ì„±ê³µì ìœ¼ë¡œ ê³µìœ ë˜ì—ˆìŠµë‹ˆë‹¤!';
                    // console.log('ê²°ê³¼ ê³µìœ  ì„±ê³µ');
                } else {
                    // navigator.share ì§€ì› ì•ˆ í•  ê²½ìš°
                    shareStatusMessage.textContent = 'ì‚¬ìš©í•˜ì‹œëŠ” ë¸Œë¼ìš°ì €ì—ì„œëŠ” ê³µìœ  ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì•„ë˜ ë‚´ìš©ì„ ë³µì‚¬í•˜ì—¬ ê³µìœ í•´ì£¼ì„¸ìš”:\n' + shareData.text + " " + shareData.url;
                }
            } catch (err) {
                console.error('Share failed:', err); // ì½˜ì†”ì— ì‹¤ì œ ì˜¤ë¥˜ ê°ì²´ ê¸°ë¡
                let errorMessage = 'ê³µìœ  ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
                if (err.name === 'AbortError') {
                    errorMessage = 'ê³µìœ ê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.';
                } else if (err && Object.keys(err).length === 0 && err.constructor === Object) {
                    // errê°€ {} ë¹ˆ ê°ì²´ì¸ ê²½ìš°
                    errorMessage = 'ê³µìœ  ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ê±°ë‚˜ ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                } else if (err.message) {
                    // err ê°ì²´ì— message ì†ì„±ì´ ìˆëŠ” ê²½ìš°
                    errorMessage = `ê³µìœ  ì‹¤íŒ¨: ${err.message}`;
                }
                shareStatusMessage.textContent = errorMessage;
            }
        });

        // ì´ˆê¸° í™”ë©´ í‘œì‹œ
        startScreen.classList.remove('hidden');
        startScreen.style.display = 'flex'; // display ì†ì„± ë³€ê²½
        setTimeout(() => startScreen.style.opacity = 1, 50);

    </script>
</body>
</html>
